import streamlit as st import pandas as pd import random import requests # For real X API calls # -------------------------- APP CONFIG -------------------------- st.set_page_config(page_title="ViralX AI - Next-Gen X Growth Engine", layout="wide") st.title("ðŸš€ ViralX AI â€“ The Only X Growth Tool You'll Ever Need in 2026+") st.markdown(""" **Now with REAL X API integration** ðŸ”¥ Unique features no one else has: - **Live X Trends** pulled directly from the X API - **Real Profile Audits** (followers, engagement stats from your actual posts) - **Data-Driven Virality Predictions** using your real post history - **Gamified Milestones + Predictive Simulator** - **Grok-Powered Content** (replace mock with real xAI API) This beats SuperX/Typefully/etc. because it uses **your real data** + **live platform signals**. """) # -------------------------- SIDEBAR: API SETUP -------------------------- st.sidebar.header("ðŸ”‘ API Setup (Required for Real Data)") st.sidebar.markdown(""" **X API Bearer Token** (App-only auth): Get it from [developer.x.com](https://developer.x.com) â†’ Keys & Tokens. Basic tier ($100/mo) or higher needed for full access (trends + reads). """) bearer_token = st.sidebar.text_input("X Bearer Token", type="password", key="bearer_input") if bearer_token: st.session_state.bearer_token = bearer_token st.sidebar.markdown(""" **xAI Grok API Key** (Optional for real AI): Get from [x.ai/api](https://x.ai/api) """) grok_key = st.sidebar.text_input("Grok API Key", type="password", key="grok_input") if grok_key: st.session_state.grok_key = grok_key # -------------------------- STATE INIT -------------------------- if 'user_data' not in st.session_state: st.session_state.user_data = { 'username': None, 'user_id': None, 'followers': 0, 'niche': 'General', 'level': 1, 'points': 0, 'streaks': 0, 'milestones': [], 'posts_history': [], 'onboarded': False } if 'trends' not in st.session_state: st.session_state.trends = [] # -------------------------- HELPER FUNCTIONS -------------------------- def grok_api(prompt): if st.session_state.get('grok_key'): try: headers = {"Authorization": f"Bearer {st.session_state.grok_key}", "Content-Type": "application/json"} data = {"model": "grok-beta", "messages": [{"role": "user", "content": prompt}], "temperature": 0.8} resp = requests.post("https://api.x.ai/v1/chat/completions", headers=headers, json=data) if resp.status_code == 200: return resp.json()['choices'][0]['message']['content'] except Exception as e: st.error(f"Grok API error: {e}") return f"**Grok's Viral Response (Mock):** {prompt} Optimized thread/post example." def get_live_trends(bearer, woeid=1): if not bearer: return [] headers = {"Authorization": f"Bearer {bearer}"} url = "https://api.twitter.com/2/trends/by/woeid/1" # Global trends try: resp = requests.get(url, headers=headers) if resp.status_code == 200: trends_raw = resp.json().get('data', [{}])[0].get('trends', []) return [{'topic': t['name'], 'volume': t.get('tweet_volume', 'N/A'), 'growth': '+Live'} for t in trends_raw[:20]] except: pass return [] def get_user_profile(bearer, username): if not bearer or not username: return None clean_username = username.lstrip('@') headers = {"Authorization": f"Bearer {bearer}"} url = f"https://api.twitter.com/2/users/by/username/{clean_username}" params = {"user.fields": "public_metrics,description"} try: resp = requests.get(url, headers=headers, params=params) if resp.status_code == 200: return resp.json()['data'] except: pass return None def get_user_recent_posts(bearer, user_id): if not bearer or not user_id: return [] headers = {"Authorization": f"Bearer {bearer}"} url = f"https://api.twitter.com/2/users/{user_id}/tweets" params = {"tweet.fields": "public_metrics,text", "exclude": "replies,retweets", "max_results": 50} try: resp = requests.get(url, headers=headers, params=params) if resp.status_code == 200: return resp.json().get('data', []) except: pass return [] def simulate_growth(followers, days=30): projections = [followers + random.randint(50,